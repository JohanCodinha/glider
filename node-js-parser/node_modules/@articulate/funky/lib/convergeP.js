var apply    = require('ramda/src/apply')
var composeP = require('ramda/src/composeP')
var curry    = require('ramda/src/curry')

var juxtP = require('./juxtP')

// convergeP :: (b -> c -> Promise d) -> [(a -> Promise b), (a -> Promise c)] -> a -> Promise d
var convergeP = function (after, fs) { return composeP(apply(after), juxtP(fs)); }

module.exports = curry(convergeP)
