var assoc = require('ramda/src/assoc')
var curry = require('ramda/src/curry')

var rename = require('./rename')

// renamePath :: [String] -> String -> { k: v } -> { k: v }
var renamePath = function (ref, to, obj) {
    var head = ref[0];
    var tail = ref.slice(1);

    return tail.length
    ? assoc(head, renamePath(tail, to, obj[head]), obj)
    : rename(head, to, obj);
}

module.exports = curry(renamePath)
