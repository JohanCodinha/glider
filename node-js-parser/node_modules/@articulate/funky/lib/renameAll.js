var curry = require('ramda/src/curry')

// renameAll :: { k: v } -> { k: v } -> { k: v }
var renameAll = function (renames, obj) {
  obj = Object.assign({}, obj)

  for (var frum in renames) {
    if (!(frum in obj)) { continue }

    var to = renames[frum]

    if (typeof to === 'object') {
      obj[frum] = renameAll(to, obj[frum])
    } else {
      obj[to] = obj[frum]
      delete obj[frum]
    }
  }

  return obj
}

module.exports = curry(renameAll)
